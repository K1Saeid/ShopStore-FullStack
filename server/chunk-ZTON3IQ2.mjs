import './polyfills.server.mjs';
import{e as I,h as k}from"./chunk-EY6CEKKC.mjs";import{a as w}from"./chunk-YUFWBB53.mjs";import{i as O,j as P,m as _,n as M,w as y}from"./chunk-GDXHRO5M.mjs";import{$a as f,Aa as r,Ab as v,Bb as C,Cb as h,Fa as m,Ja as u,Oa as g,Wa as l,Za as t,_a as i,fb as b,pb as n,qb as p,rb as s,tb as x,wa as c}from"./chunk-LEXWQGSC.mjs";import"./chunk-S6KH3LOX.mjs";var E=(d,a,e)=>({"status-pending":d,"status-paid":a,"status-cancelled":e});function D(d,a){if(d&1&&(t(0,"div",11),f(1,"img",12),t(2,"div",13)(3,"p",14),n(4),i(),t(5,"p",15),n(6),i()(),t(7,"div",16),n(8),i()()),d&2){let e=a.$implicit;r(),l("src",e.imageUrl,c),r(3),p(e.productName),r(2),x(" Size: ",e.size," \u2014 Color: ",e.color," \u2014 Qty: ",e.quantity," "),r(2),s(" \u20AC",e.price," ")}}var S=class d{constructor(a,e,o){this.route=a;this.http=e;this.router=o}order;apiUrl=`${w.apiBaseUrl}/Order`;fromPage=null;customerId=null;ngOnInit(){this.route.queryParams.subscribe(e=>{this.fromPage=e.from||null,this.customerId=e.customerId?Number(e.customerId):null});let a=Number(this.route.snapshot.paramMap.get("id"));this.getOrderDetails(a)}getOrderDetails(a){this.http.get(`${this.apiUrl}/details/${a}`).subscribe({next:e=>this.order=e,error:e=>console.error("Order Details Error:",e)})}goBack(){if(this.fromPage==="customer"&&this.customerId){this.router.navigate(["/admin/customers",this.customerId]);return}if(this.fromPage==="orders"){this.router.navigate(["/admin/orders"]);return}if(this.fromPage==="dashboard"){this.router.navigate(["/admin/dashboard"]);return}this.router.navigate(["/admin/orders"])}static \u0275fac=function(e){return new(e||d)(m(I),m(y),m(k))};static \u0275cmp=u({type:d,selectors:[["app-admin-order-details"]],decls:32,vars:14,consts:[[1,"page-title"],[1,"order-wrapper"],[1,"summary-card"],[1,"summary-grid"],[1,"label"],[1,"value"],[1,"status-badge",3,"ngClass"],[1,"items-card"],[1,"item-title"],["class","item-row",4,"ngFor","ngForOf"],[1,"btn-back",3,"click"],[1,"item-row"],[1,"item-image",3,"src"],[1,"item-info"],[1,"item-name"],[1,"item-meta"],[1,"item-price"]],template:function(e,o){e&1&&(t(0,"h2",0),n(1),i(),t(2,"div",1)(3,"div",2)(4,"div",3)(5,"span",4),n(6,"Order Date:"),i(),t(7,"span",5),n(8),C(9,"date"),i()(),t(10,"div",3)(11,"span",4),n(12,"Customer:"),i(),t(13,"span",5),n(14),i()(),t(15,"div",3)(16,"span",4),n(17,"Status:"),i(),t(18,"span")(19,"span",6),n(20),i()()(),t(21,"div",3)(22,"span",4),n(23,"Total Amount:"),i(),t(24,"span",5),n(25),i()()(),t(26,"div",7)(27,"h3",8),n(28,"Items"),i(),g(29,D,9,6,"div",9),i()(),t(30,"button",10),b("click",function(){return o.goBack()}),n(31,"\u2190 Back"),i()),e&2&&(r(),s("Order #",o.order.orderNumber,""),r(7),p(h(9,7,o.order.createdAt,"medium")),r(6),s("",o.order.user.fullName,`
`),r(5),l("ngClass",v(10,E,o.order.status==="Pending",o.order.status==="Paid",o.order.status==="Cancelled")),r(),s(" ",o.order.status," "),r(5),s("\u20AC",o.order.totalPrice,""),r(4),l("ngForOf",o.order.items))},dependencies:[P,M,O,_],styles:[".page-title[_ngcontent-%COMP%]{font-size:26px;font-weight:700;margin-bottom:25px;color:#222}.order-wrapper[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:25px;box-shadow:0 4px 18px #0000000f;margin-bottom:30px}.summary-card[_ngcontent-%COMP%]{padding:20px;background:#fafafa;border-radius:12px;border:1px solid #eaeaea;margin-bottom:25px}.summary-grid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:16px;margin-bottom:8px}.label[_ngcontent-%COMP%]{font-weight:600;color:#333}.value[_ngcontent-%COMP%]{color:#555}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 14px;border-radius:20px;font-size:13px;font-weight:600;color:#fff}.status-pending[_ngcontent-%COMP%]{background:#f0ad4e}.status-paid[_ngcontent-%COMP%]{background:#28a745}.status-cancelled[_ngcontent-%COMP%]{background:#dc3545}.items-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #eaeaea;padding:20px}.item-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-bottom:18px}.item-row[_ngcontent-%COMP%]{display:flex;align-items:center;padding:14px 0;border-bottom:1px solid #f1f1f1}.item-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-image[_ngcontent-%COMP%]{width:75px;height:75px;object-fit:cover;border-radius:10px;margin-right:18px}.item-info[_ngcontent-%COMP%]{flex-grow:1}.item-name[_ngcontent-%COMP%]{font-weight:600;font-size:17px;margin:0}.item-meta[_ngcontent-%COMP%]{font-size:14px;color:#777}.item-price[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#222}.btn-back[_ngcontent-%COMP%]{background:#111;color:#fff;padding:10px 18px;border-radius:8px;text-decoration:none;display:inline-block;margin-top:25px;transition:.25s}.btn-back[_ngcontent-%COMP%]:hover{background:#333}"]})};export{S as AdminOrderDetailsComponent};
