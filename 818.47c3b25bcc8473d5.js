"use strict";(self.webpackChunkshop_web=self.webpackChunkshop_web||[]).push([[818],{1818:(b,_,a)=>{a.r(_),a.d(_,{CategoriesComponent:()=>g});var p=a(2881),c=a(4341),e=a(1360),u=a(4354);const r=s=>({display:s});function f(s,h){if(1&s&&(e.j41(0,"div",17),e.EFF(1),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.SpI(" ",n.successMessage,"\n")}}function o(s,h){if(1&s){const n=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"button",18),e.bIt("click",function(){const t=e.eBV(n).$implicit,i=e.XpG();return e.Njj(i.openEdit(t))}),e.EFF(9,"Edit"),e.k0s(),e.j41(10,"button",19),e.bIt("click",function(){const t=e.eBV(n).$implicit,i=e.XpG();return e.Njj(i.openDeleteModal(t))}),e.EFF(11,"Delete"),e.k0s()()()}if(2&s){const n=h.$implicit,d=h.index;e.R7$(2),e.JRh(d+1),e.R7$(2),e.JRh(n.name),e.R7$(2),e.JRh(n.description)}}let g=(()=>{class s{categoryService;categories=[];loading=!0;successMessage="";showDeleteModal=!1;deleteId=0;deleteName="";showModal=!1;editMode=!1;selected={id:0,name:"",description:""};constructor(n){this.categoryService=n}ngOnInit(){this.load()}load(){this.categoryService.getAll().subscribe(n=>{this.categories=n,this.loading=!1})}openAdd(){this.editMode=!1,this.selected={id:0,name:"",description:""},this.showModal=!0}openEdit(n){this.editMode=!0,this.selected={...n},this.showModal=!0}save(){this.editMode?this.categoryService.update(this.selected.id,this.selected).subscribe(()=>{this.showModal=!1,this.successMessage="Category edited successfully!",setTimeout(()=>{this.successMessage=""},3e3),this.load()}):this.categoryService.create(this.selected).subscribe(()=>{this.showModal=!1,this.successMessage="Category created  successfully!",setTimeout(()=>{this.successMessage=""},3e3),this.load()})}openDeleteModal(n){this.deleteId=n.id,this.deleteName=n.name,this.showDeleteModal=!0}confirmDelete(){this.categoryService.delete(this.deleteId).subscribe(()=>{this.showDeleteModal=!1,this.successMessage="Category deleted successfully!",setTimeout(()=>{this.successMessage=""},3e3),this.load()})}static \u0275fac=function(d){return new(d||s)(e.rXU(u.M))};static \u0275cmp=e.VBU({type:s,selectors:[["app-categories"]],decls:55,vars:16,consts:[[1,"page-title"],["class","alert alert-success",4,"ngIf"],[1,"btn-add",3,"click"],[1,"table"],[4,"ngFor","ngForOf"],[1,"modal",3,"ngStyle"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"modal-body"],["type","text",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"alert","alert-success"],[1,"btn-edit",3,"click"],[1,"btn-delete",3,"click"]],template:function(d,t){1&d&&(e.j41(0,"h2",0),e.EFF(1,"Categories"),e.k0s(),e.DNE(2,f,2,1,"div",1),e.j41(3,"button",2),e.bIt("click",function(){return t.openAdd()}),e.EFF(4,"+ Add Category"),e.k0s(),e.j41(5,"table",3)(6,"thead")(7,"tr")(8,"th"),e.EFF(9,"#"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Name"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Description"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Actions"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,o,12,3,"tr",4),e.k0s()(),e.j41(18,"div",5)(19,"div",6)(20,"div",7)(21,"div",8)(22,"h5"),e.EFF(23),e.k0s(),e.j41(24,"button",9),e.bIt("click",function(){return t.showModal=!1}),e.k0s()(),e.j41(25,"div",10)(26,"label"),e.EFF(27,"Name"),e.k0s(),e.j41(28,"input",11),e.mxI("ngModelChange",function(l){return e.DH7(t.selected.name,l)||(t.selected.name=l),l}),e.k0s(),e.j41(29,"label"),e.EFF(30,"Description"),e.k0s(),e.j41(31,"textarea",12),e.mxI("ngModelChange",function(l){return e.DH7(t.selected.description,l)||(t.selected.description=l),l}),e.k0s()(),e.j41(32,"div",13)(33,"button",14),e.bIt("click",function(){return t.showModal=!1}),e.EFF(34,"Cancel"),e.k0s(),e.j41(35,"button",15),e.bIt("click",function(){return t.save()}),e.EFF(36,"Save"),e.k0s()()()()(),e.j41(37,"div",5)(38,"div",6)(39,"div",7)(40,"div",8)(41,"h5"),e.EFF(42,"Delete Category"),e.k0s(),e.j41(43,"button",9),e.bIt("click",function(){return t.showDeleteModal=!1}),e.k0s()(),e.j41(44,"div",10)(45,"p"),e.EFF(46,"Are you sure you want to delete "),e.j41(47,"strong"),e.EFF(48),e.k0s(),e.EFF(49,"?"),e.k0s()(),e.j41(50,"div",13)(51,"button",14),e.bIt("click",function(){return t.showDeleteModal=!1}),e.EFF(52,"Cancel"),e.k0s(),e.j41(53,"button",16),e.bIt("click",function(){return t.confirmDelete()}),e.EFF(54,"Delete"),e.k0s()()()()()),2&d&&(e.R7$(2),e.Y8G("ngIf",t.successMessage),e.R7$(15),e.Y8G("ngForOf",t.categories),e.R7$(),e.AVh("show",t.showModal),e.Y8G("ngStyle",e.eq3(12,r,t.showModal?"block":"none")),e.R7$(5),e.JRh(t.editMode?"Edit Category":"Add Category"),e.R7$(5),e.R50("ngModel",t.selected.name),e.R7$(3),e.R50("ngModel",t.selected.description),e.R7$(6),e.AVh("show",t.showDeleteModal),e.Y8G("ngStyle",e.eq3(14,r,t.showDeleteModal?"block":"none")),e.R7$(11),e.JRh(t.deleteName))},dependencies:[p.MD,p.Sq,p.bT,p.B3,c.YN,c.me,c.BC,c.vS],styles:[".page-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}.btn-add[_ngcontent-%COMP%]{background:#0d6efd;color:#fff;padding:10px 18px;border:none;border-radius:6px;font-size:14px;cursor:pointer;margin-bottom:15px;transition:.2s}.btn-add[_ngcontent-%COMP%]:hover{background:#0b5ed7}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f5f6fa}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:12px;font-weight:700;font-size:14px;color:#333;border-bottom:1px solid #ddd}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #eee;font-size:14px}.btn-edit[_ngcontent-%COMP%]{background:#22c55e;color:#fff;border:none;padding:6px 14px;border-radius:6px;cursor:pointer;font-size:13px;transition:.2s;margin-right:5px}.btn-edit[_ngcontent-%COMP%]:hover{background:#16a34a}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border:none;padding:6px 14px;border-radius:6px;cursor:pointer;font-size:13px;transition:.2s}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:none;align-items:center;justify-content:center;z-index:99999}.modal.show[_ngcontent-%COMP%]{display:flex!important}.modal-dialog[_ngcontent-%COMP%]{width:450px;background:#fff;border-radius:10px;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .25s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{transform:scale(.92);opacity:0}to{transform:scale(1);opacity:1}}.modal-header[_ngcontent-%COMP%]{padding:14px 18px;border-bottom:1px solid #eee;font-size:18px;font-weight:700;display:flex;justify-content:space-between;align-items:center}.btn-close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:20px;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:18px}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:6px}.modal-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:6px;border:1px solid #ccc;margin-bottom:15px}.modal-footer[_ngcontent-%COMP%]{padding:14px 18px;display:flex;justify-content:flex-end;gap:10px;border-top:1px solid #eee}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 14px;border-radius:6px;cursor:pointer}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5c636a}.btn.btn-primary[_ngcontent-%COMP%]{background:#0d6efd;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#0b5ed7}.success-alert[_ngcontent-%COMP%]{margin-bottom:15px;border-radius:6px;padding:12px 15px;font-size:14px}.toast-alert[_ngcontent-%COMP%]{position:fixed;top:20px;right:-300px;color:#fff;padding:12px 20px;border-radius:8px;font-size:14px;box-shadow:0 4px 12px #00000026;opacity:0;transition:all .6s ease;z-index:9999}.toast-alert.show[_ngcontent-%COMP%]{right:20px;opacity:1}.success-alert[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;min-width:260px;opacity:0;transform:translateY(-20px);transition:all .5s ease;z-index:9999}.success-alert.ng-trigger.ng-trigger-fadeInOut[_ngcontent-%COMP%], .success-alert.ng-star-inserted[_ngcontent-%COMP%]{opacity:1!important;transform:translateY(0)}.success-alert.ng-leave[_ngcontent-%COMP%]{opacity:0!important;transform:translateY(-20px)}"]})}return s})()},4354:(b,_,a)=>{a.d(_,{M:()=>u});var p=a(5312),c=a(1360),e=a(7643);let u=(()=>{class r{http;apiUrl=`${p.c.apiBaseUrl}/category`;constructor(o){this.http=o}getAll(){return this.http.get(this.apiUrl)}getById(o){return this.http.get(`${this.apiUrl}/${o}`)}create(o){return this.http.post(this.apiUrl,o)}update(o,g){return this.http.put(`${this.apiUrl}/${o}`,g)}delete(o){return this.http.delete(`${this.apiUrl}/${o}`)}static \u0275fac=function(g){return new(g||r)(c.KVO(e.Qq))};static \u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()}}]);