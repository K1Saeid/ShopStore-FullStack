<top-header></top-header>
<header class="navbar navbar-expand-lg navbar-light bg-white shadow-sm px-4 py-2">
  <div class="container-fluid">

    <a class="shopweb-logo" routerLink="/">ShopWeb</a>

    <app-top-menu></app-top-menu>

    <div class="shopweb--bottom--bar">
      <main-menu></main-menu>
    </div>

    <div class="navbar-nav ms-auto align-items-center">

      <ng-container *ngIf="user; else guest">
        <div class="user-menu">
        <div class="" (click)="toggleMenu($event)">
          <button
            class="btn btn-outline-dark dropdown-toggle d-flex align-items-center fw-semibold"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="menuOpen"
          >
            <i class="bi bi-person  me-2"></i>  Hello, {{ user.fullName || user.email }}
          </button>

          <ul class="dropdown-menu dropdown-menu-end shadow border-0 rounded-3 mt-2" [class.show]="menuOpen">

            <li>
              <a class="dropdown-item" routerLink="/account/profile">
                <i class="bi bi-person me-2"></i> Mijn profiel
              </a>
            </li>

            <li>
              <a class="dropdown-item" routerLink="/account/orders">
                <i class="bi bi-bag-check me-2"></i> Mijn bestelling
              </a>
            </li>

            <li><hr class="dropdown-divider" /></li>

            <li>
              <button class="dropdown-item text-danger fw-semibold" (click)="logout($event)">
                <i class="bi bi-box-arrow-right me-2"></i> Uitloggen
              </button>
            </li>


        </ul>
          

        </div>
        
        </div>
      </ng-container>
        <nav class="cart-box">
          <a routerLink="/cart" class="cart-link">
            <i class="bi bi-cart cart-icon"></i>

            <span class="cart-badge">
              {{ cartCount }}
            </span>
          </a>
        </nav>

      <ng-template #guest>
        <div class="nav-item ms-3">
          <a routerLink="/auth/signin" class="btn btn-outline-primary btn-sm me-2 px-3">Inloggen</a>
         <a routerLink="/auth/signup" class="btn btn-primary btn-sm px-3">Aanmelden</a>
        </div>
      </ng-template>
    </div>
  </div>
</header>


