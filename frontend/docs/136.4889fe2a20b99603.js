"use strict";(self.webpackChunkshop_web=self.webpackChunkshop_web||[]).push([[136],{136:(F,m,r)=>{r.r(m),r.d(m,{CustomersComponent:()=>f});var a=r(2881),i=r(4341),d=r(262),g=r(9870),e=r(1360),p=r(4796);const _=s=>["/admin/customers",s];function h(s,c){1&s&&(e.j41(0,"div"),e.EFF(1,"Loading..."),e.k0s())}function C(s,c){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"a",9),e.EFF(5),e.k0s()(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.nI1(12,"date"),e.k0s()()),2&s){const t=c.$implicit,n=c.index;e.R7$(2),e.JRh(n+1),e.R7$(2),e.Y8G("routerLink",e.eq3(9,_,t.id)),e.R7$(),e.SpI(" ",t.fullName," "),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone||"-"),e.R7$(2),e.JRh(e.i5U(12,6,t.createdAt,"medium"))}}function E(s,c){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"table",6)(2,"thead")(3,"tr")(4,"th"),e.EFF(5,"#"),e.k0s(),e.j41(6,"th"),e.EFF(7,"Full Name"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Email"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Phone"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Date Registered"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,C,13,11,"tr",7),e.k0s()(),e.j41(16,"app-pagination",8),e.mxI("currentPageChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.page,o)||(l.page=o),e.Njj(o)}),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(15),e.Y8G("ngForOf",t.paginatedCustomers),e.R7$(),e.Y8G("totalItems",t.filteredCustomers.length)("pageSize",t.pageSize),e.R50("currentPage",t.page)}}let f=(()=>{class s{userService;customers=[];loading=!0;searchText="";page=1;pageSize=5;constructor(t){this.userService=t}ngOnInit(){this.loadCustomers()}loadCustomers(){this.userService.getAllUsers().subscribe({next:t=>{this.customers=t,this.loading=!1},error:()=>{this.loading=!1,console.error("Cannot load customers!")}})}get filteredCustomers(){if(!this.searchText.trim())return this.customers;const t=this.searchText.toLowerCase();return this.customers.filter(n=>n.fullName.toLowerCase().includes(t)||n.email.toLowerCase().includes(t))}get paginatedCustomers(){const t=(this.page-1)*this.pageSize;return this.filteredCustomers.slice(t,t+this.pageSize)}static \u0275fac=function(n){return new(n||s)(e.rXU(p.D))};static \u0275cmp=e.VBU({type:s,selectors:[["app-customers"]],decls:8,vars:3,consts:[[1,"row"],[1,"col-sm-9"],[1,"page-title"],[1,"col-sm-3","right"],["type","text","placeholder","Search...",1,"search-input",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],[3,"currentPageChange","totalItems","pageSize","currentPage"],[1,"customer-link",3,"routerLink"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"Customers"),e.k0s()(),e.j41(4,"div",3)(5,"input",4),e.mxI("ngModelChange",function(u){return e.DH7(o.searchText,u)||(o.searchText=u),u}),e.k0s()()(),e.DNE(6,h,2,0,"div",5)(7,E,17,4,"div",5)),2&n&&(e.R7$(5),e.R50("ngModel",o.searchText),e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(),e.Y8G("ngIf",!o.loading))},dependencies:[g.Wk,a.MD,a.Sq,a.bT,a.vh,i.YN,i.me,i.BC,i.vS,d.e],styles:["input[type=text][_ngcontent-%COMP%]{padding:8px 12px;border-radius:6px;border:1px solid #ccc;width:100%}.customer-link[_ngcontent-%COMP%]{color:#006eff}.customer-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}return s})()}}]);