import './polyfills.server.mjs';
import{a as A}from"./chunk-WFKNRLHN.mjs";import"./chunk-YUFWBB53.mjs";import{b as I,c as T,f as z,n as N}from"./chunk-25CODJY3.mjs";import{j as k,k as S,l as E,n as D}from"./chunk-GDXHRO5M.mjs";import{Aa as a,Fa as O,Ja as v,Oa as b,Wa as g,Ya as _,Z as u,Za as e,_ as f,_a as t,cb as P,fb as c,gb as m,pb as i,qb as p,rb as w,ub as C,vb as x,wb as h,zb as M}from"./chunk-LEXWQGSC.mjs";import{a as y}from"./chunk-S6KH3LOX.mjs";var F=d=>({display:d});function W(d,o){if(d&1&&(e(0,"div",17),i(1),t()),d&2){let r=m();a(),w(" ",r.successMessage,`
`)}}function j(d,o){if(d&1){let r=P();e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td")(8,"button",18),c("click",function(){let s=u(r).$implicit,l=m();return f(l.openEdit(s))}),i(9,"Edit"),t(),e(10,"button",19),c("click",function(){let s=u(r).$implicit,l=m();return f(l.openDeleteModal(s))}),i(11,"Delete"),t()()()}if(d&2){let r=o.$implicit,n=o.index;a(2),p(n+1),a(2),p(r.name),a(2),p(r.description)}}var V=class d{constructor(o){this.categoryService=o}categories=[];loading=!0;successMessage="";showDeleteModal=!1;deleteId=0;deleteName="";showModal=!1;editMode=!1;selected={id:0,name:"",description:""};ngOnInit(){this.load()}load(){this.categoryService.getAll().subscribe(o=>{this.categories=o,this.loading=!1})}openAdd(){this.editMode=!1,this.selected={id:0,name:"",description:""},this.showModal=!0}openEdit(o){this.editMode=!0,this.selected=y({},o),this.showModal=!0}save(){this.editMode?this.categoryService.update(this.selected.id,this.selected).subscribe(()=>{this.showModal=!1,this.successMessage="Category edited successfully!",setTimeout(()=>{this.successMessage=""},3e3),this.load()}):this.categoryService.create(this.selected).subscribe(()=>{this.showModal=!1,this.successMessage="Category created  successfully!",setTimeout(()=>{this.successMessage=""},3e3),this.load()})}openDeleteModal(o){this.deleteId=o.id,this.deleteName=o.name,this.showDeleteModal=!0}confirmDelete(){this.categoryService.delete(this.deleteId).subscribe(()=>{this.showDeleteModal=!1,this.successMessage="Category deleted successfully!",setTimeout(()=>{this.successMessage=""},3e3),this.load()})}static \u0275fac=function(r){return new(r||d)(O(A))};static \u0275cmp=v({type:d,selectors:[["app-categories"]],decls:55,vars:16,consts:[[1,"page-title"],["class","alert alert-success",4,"ngIf"],[1,"btn-add",3,"click"],[1,"table"],[4,"ngFor","ngForOf"],[1,"modal",3,"ngStyle"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"modal-body"],["type","text",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"alert","alert-success"],[1,"btn-edit",3,"click"],[1,"btn-delete",3,"click"]],template:function(r,n){r&1&&(e(0,"h2",0),i(1,"Categories"),t(),b(2,W,2,1,"div",1),e(3,"button",2),c("click",function(){return n.openAdd()}),i(4,"+ Add Category"),t(),e(5,"table",3)(6,"thead")(7,"tr")(8,"th"),i(9,"#"),t(),e(10,"th"),i(11,"Name"),t(),e(12,"th"),i(13,"Description"),t(),e(14,"th"),i(15,"Actions"),t()()(),e(16,"tbody"),b(17,j,12,3,"tr",4),t()(),e(18,"div",5)(19,"div",6)(20,"div",7)(21,"div",8)(22,"h5"),i(23),t(),e(24,"button",9),c("click",function(){return n.showModal=!1}),t()(),e(25,"div",10)(26,"label"),i(27,"Name"),t(),e(28,"input",11),h("ngModelChange",function(l){return x(n.selected.name,l)||(n.selected.name=l),l}),t(),e(29,"label"),i(30,"Description"),t(),e(31,"textarea",12),h("ngModelChange",function(l){return x(n.selected.description,l)||(n.selected.description=l),l}),t()(),e(32,"div",13)(33,"button",14),c("click",function(){return n.showModal=!1}),i(34,"Cancel"),t(),e(35,"button",15),c("click",function(){return n.save()}),i(36,"Save"),t()()()()(),e(37,"div",5)(38,"div",6)(39,"div",7)(40,"div",8)(41,"h5"),i(42,"Delete Category"),t(),e(43,"button",9),c("click",function(){return n.showDeleteModal=!1}),t()(),e(44,"div",10)(45,"p"),i(46,"Are you sure you want to delete "),e(47,"strong"),i(48),t(),i(49,"?"),t()(),e(50,"div",13)(51,"button",14),c("click",function(){return n.showDeleteModal=!1}),i(52,"Cancel"),t(),e(53,"button",16),c("click",function(){return n.confirmDelete()}),i(54,"Delete"),t()()()()()),r&2&&(a(2),g("ngIf",n.successMessage),a(15),g("ngForOf",n.categories),a(),_("show",n.showModal),g("ngStyle",M(12,F,n.showModal?"block":"none")),a(5),p(n.editMode?"Edit Category":"Add Category"),a(5),C("ngModel",n.selected.name),a(3),C("ngModel",n.selected.description),a(6),_("show",n.showDeleteModal),g("ngStyle",M(14,F,n.showDeleteModal?"block":"none")),a(11),p(n.deleteName))},dependencies:[D,k,S,E,N,I,T,z],styles:[".page-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}.btn-add[_ngcontent-%COMP%]{background:#0d6efd;color:#fff;padding:10px 18px;border:none;border-radius:6px;font-size:14px;cursor:pointer;margin-bottom:15px;transition:.2s}.btn-add[_ngcontent-%COMP%]:hover{background:#0b5ed7}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f5f6fa}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:12px;font-weight:700;font-size:14px;color:#333;border-bottom:1px solid #ddd}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #eee;font-size:14px}.btn-edit[_ngcontent-%COMP%]{background:#22c55e;color:#fff;border:none;padding:6px 14px;border-radius:6px;cursor:pointer;font-size:13px;transition:.2s;margin-right:5px}.btn-edit[_ngcontent-%COMP%]:hover{background:#16a34a}.btn-delete[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border:none;padding:6px 14px;border-radius:6px;cursor:pointer;font-size:13px;transition:.2s}.btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;display:none;align-items:center;justify-content:center;z-index:99999}.modal.show[_ngcontent-%COMP%]{display:flex!important}.modal-dialog[_ngcontent-%COMP%]{width:450px;background:#fff;border-radius:10px;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .25s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{transform:scale(.92);opacity:0}to{transform:scale(1);opacity:1}}.modal-header[_ngcontent-%COMP%]{padding:14px 18px;border-bottom:1px solid #eee;font-size:18px;font-weight:700;display:flex;justify-content:space-between;align-items:center}.btn-close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:20px;cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:18px}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:6px}.modal-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:6px;border:1px solid #ccc;margin-bottom:15px}.modal-footer[_ngcontent-%COMP%]{padding:14px 18px;display:flex;justify-content:flex-end;gap:10px;border-top:1px solid #eee}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 14px;border-radius:6px;cursor:pointer}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5c636a}.btn.btn-primary[_ngcontent-%COMP%]{background:#0d6efd;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#0b5ed7}.success-alert[_ngcontent-%COMP%]{margin-bottom:15px;border-radius:6px;padding:12px 15px;font-size:14px}.toast-alert[_ngcontent-%COMP%]{position:fixed;top:20px;right:-300px;color:#fff;padding:12px 20px;border-radius:8px;font-size:14px;box-shadow:0 4px 12px #00000026;opacity:0;transition:all .6s ease;z-index:9999}.toast-alert.show[_ngcontent-%COMP%]{right:20px;opacity:1}.success-alert[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;min-width:260px;opacity:0;transform:translateY(-20px);transition:all .5s ease;z-index:9999}.success-alert.ng-trigger.ng-trigger-fadeInOut[_ngcontent-%COMP%], .success-alert.ng-star-inserted[_ngcontent-%COMP%]{opacity:1!important;transform:translateY(0)}.success-alert.ng-leave[_ngcontent-%COMP%]{opacity:0!important;transform:translateY(-20px)}"]})};export{V as CategoriesComponent};
