import{a as J}from"./chunk-G6NDKQ7T.js";import{a as K}from"./chunk-KLE6COJF.js";import{a as B}from"./chunk-CPA4YIA4.js";import{a as W}from"./chunk-RNT3NOGQ.js";import{b as Z}from"./chunk-RYH6ERY7.js";import{h as U,i as G,l as H,p as y}from"./chunk-NPH7NEJF.js";import{$a as h,Aa as T,Ba as _,Fa as C,Ga as V,Ha as $,Ka as x,L as O,N as z,Qa as d,Ra as A,S as p,Sa as P,Ta as s,Ua as r,Va as k,X as M,Y as u,Ya as b,Z as m,ab as f,bb as L,cb as F,ea as E,fb as N,ga as v,gb as q,hb as R,ia as S,jb as c,kb as g,lb as j,na as w,ra as I,rb as Q,sa as D,wa as a}from"./chunk-3ZPPO4HR.js";var ee=["cartAlert"];function te(i,n){if(i&1){let t=b();s(0,"span",29),h("click",function(){let o=u(t).$implicit,l=f(2);return m(l.selectSize(o))}),c(1),r()}if(i&2){let t=n.$implicit,e=f(2);P("active",e.selectedSize===t),a(),j(" ",t," ")}}function ie(i,n){if(i&1&&(s(0,"div",25)(1,"div",26)(2,"h4"),c(3,"Available Sizes"),r()(),s(4,"div",27),x(5,te,2,3,"span",28),r()()),i&2){let t=f();a(5),d("ngForOf",t.sizes)}}function ne(i,n){if(i&1){let t=b();s(0,"span",32),h("click",function(){let o=u(t).$implicit,l=f(2);return m(l.selectColor(o))}),r()}if(i&2){let t=n.$implicit,e=f(2);A("background-color",t),P("active",e.selectedColor===t)}}function oe(i,n){if(i&1&&(s(0,"div",30)(1,"div",16)(2,"h4"),c(3,"Available Colors"),r()(),s(4,"div",27),x(5,ne,1,4,"span",31),r()()),i&2){let t=f();a(5),d("ngForOf",t.colors)}}function re(i,n){if(i&1){let t=b();s(0,"button",33),h("click",function(){u(t);let o=f();return m(o.addToCart())}),c(1," ADD TO CART "),r()}}function se(i,n){i&1&&(s(0,"button",34),c(1,"Notify Me"),r())}var X=class i{constructor(n,t,e,o){this.route=n;this.productService=t;this.userService=e;this.cartService=o}productListComp;cartAlert;product;colors=[];sizes=[];selectedColor=null;selectedSize=null;quantity=1;loading=!0;ngOnInit(){this.productListComp?.selectedProduct&&(this.product=this.productListComp.selectedProduct,this.colors=this.product.colors?.split(",").map(n=>n.trim().toLowerCase())||[],this.sizes=this.product.sizes?.split(",").map(n=>n.trim())||[],this.loading=!1)}selectSize(n){this.selectedSize=n}selectColor(n){this.selectedColor=n.trim().toLowerCase(),console.log("Clicked color:",this.selectedColor)}increaseQty(){this.quantity++}decreaseQty(){this.quantity>1&&this.quantity--}addToCart(){let n=this.userService.getCurrentUser();if(!n){alert("Please login");return}if(!this.selectedSize||!this.selectedColor){alert("Please select size & color");return}let t={userId:n.id,productId:this.product.id,quantity:this.quantity,size:this.selectedSize,color:this.selectedColor,price:+(this.product.discountPrice??this.product.price)};this.cartService.addToCart(t,e=>{e&&(this.cartService.refreshCartCount(n.id),this.showAlert())})}closeDetail(){this.productListComp.selectedProduct=void 0,document.body.style.overflow="auto"}showAlert(){let n=this.cartAlert.nativeElement;n.style.display="block",setTimeout(()=>{n.classList.add("show")},10),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>{n.style.display="none"},150)},2500)}static \u0275fac=function(t){return new(t||i)(_(Z),_(W),_(K),_(J))};static \u0275cmp=C({type:i,selectors:[["app-product-detail"]],viewQuery:function(t,e){if(t&1&&N(ee,5),t&2){let o;q(o=R())&&(e.cartAlert=o.first)}},inputs:{productListComp:"productListComp"},decls:48,vars:13,consts:[["cartAlert",""],[1,"overlay",3,"click"],[1,"shopweb--product--details--info","scroll"],[1,"shopweb-product-detail-close",3,"click"],["aria-hidden","true",1,"fa","fa-times"],[1,"shopweb-product-detail-image"],[1,"shopweb-product-detail-image",3,"src"],[1,"shopweb-product-detail"],[1,"shopweb-product-detail-name"],[1,"shopweb-product-detail-gbc"],[1,"shopweb-product-detail-price"],[2,"background-color","red","color","white"],[2,"background-color","green","color","white"],["class","shopweb-product-detail-size",4,"ngIf"],["class","shopweb-product-detail-color",4,"ngIf"],[1,"shopweb-product-detail-desc"],[2,"padding","5px 0px","border-bottom","#ccc 2px solid"],[2,"margin-top","20px","margin-bottom","15px"],[3,"innerHTML"],[1,"qty-box"],[3,"click"],[1,"shopweb-product-detail-addtoCart"],["class","btn-add-to-cart",3,"click",4,"ngIf"],["class","btn-add-to-cart",4,"ngIf"],["role","alert",1,"alert","alert-dark","fade",2,"position","fixed","top","20px","right","20px","z-index","9999","display","none"],[1,"shopweb-product-detail-size"],[2,"padding","5px 0px","border-bottom","#ccc 2px solid","margin-top","10px"],[2,"margin-top","20px","; margin-bottom","15px"],["class","shopweb-product-detail-available-size",3,"active","click",4,"ngFor","ngForOf"],[1,"shopweb-product-detail-available-size",3,"click"],[1,"shopweb-product-detail-color"],["class","color-circle",3,"background-color","active","click",4,"ngFor","ngForOf"],[1,"color-circle",3,"click"],[1,"btn-add-to-cart",3,"click"],[1,"btn-add-to-cart"]],template:function(t,e){if(t&1){let o=b();s(0,"div",1),h("click",function(){return u(o),m(e.closeDetail())}),r(),s(1,"div",2)(2,"div",3),h("click",function(){return u(o),m(e.closeDetail())}),k(3,"i",4),r(),s(4,"div",5),k(5,"img",6),r(),s(6,"div",7)(7,"div",8)(8,"h2"),c(9),r()(),s(10,"div",9)(11,"span"),c(12),r(),s(13,"span"),c(14),r(),s(15,"span"),c(16),r()(),s(17,"div",10)(18,"p")(19,"b"),c(20,"Price Each Pair:"),r(),s(21,"span",11)(22,"s"),c(23),r()(),s(24,"span",12),c(25),r(),c(26," (Inclusive of all taxes) "),r()(),x(27,ie,6,1,"div",13)(28,oe,6,1,"div",14),r(),s(29,"div",15)(30,"div",16)(31,"h4"),c(32,"Description"),r()(),s(33,"div",17),k(34,"div",18),r()(),s(35,"div",19)(36,"button",20),h("click",function(){return u(o),m(e.decreaseQty())}),c(37,"-"),r(),s(38,"span"),c(39),r(),s(40,"button",20),h("click",function(){return u(o),m(e.increaseQty())}),c(41,"+"),r()(),s(42,"div",21),x(43,re,2,0,"button",22)(44,se,2,0,"button",23),r()(),s(45,"div",24,0),c(47,` Product added to cart!
`),r()}t&2&&(a(5),d("src",e.product.imageUrl,D),a(4),g(e.product.name),a(3),g(e.product.gender),a(2),g(e.product.brand),a(2),g(e.product.category),a(7),g(e.product.price),a(2),g(e.product.discountPrice),a(2),d("ngIf",e.sizes.length),a(),d("ngIf",e.colors.length),a(6),d("innerHTML",e.product.description,I),a(5),g(e.quantity),a(4),d("ngIf",e.product.inStock),a(),d("ngIf",!e.product.inStock))},dependencies:[G,U],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;backdrop-filter:blur(2px);z-index:20;cursor:pointer;transition:opacity .3s ease}.shopweb--product--details--info[_ngcontent-%COMP%]{position:fixed;top:0;right:0;width:480px;height:100vh;background:#fff;padding:25px;z-index:1000;box-shadow:-4px 0 20px #0003;border-radius:16px 0 0 16px;animation:_ngcontent-%COMP%_slideIn .35s ease forwards;overflow-y:auto}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.shopweb-product-detail-close[_ngcontent-%COMP%]{text-align:right;font-size:22px;cursor:pointer;color:#444}.shopweb-product-detail-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#000}.shopweb-product-detail-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:330px;object-fit:contain;border-radius:12px}.shopweb-product-detail-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;font-weight:700;margin-top:20px}.shopweb-product-detail-gbc[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#111;color:#fff;padding:6px 14px;border-radius:20px;font-size:13px;margin-right:8px}.shopweb-product-detail-price[_ngcontent-%COMP%]{margin-top:20px;background:#fff7cc;border:2px solid #ffd43b;padding:15px;border-radius:10px;font-size:15px}.shopweb-product-detail-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px;background:#fff7cc;padding:5px 7px;border-radius:5px;font-size:15px}.shopweb-product-detail-available-size[_ngcontent-%COMP%]{padding:10px 18px;background:#f2f2f2;border-radius:8px;border:1px solid #ddd;font-size:15px;cursor:pointer;margin-right:10px;transition:.25s}.shopweb-product-detail-available-size[_ngcontent-%COMP%]:hover{background:#eaeaea}.shopweb-product-detail-available-size.active[_ngcontent-%COMP%]{background:#111;color:#fff;border-color:#111}.color-circle[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:50%;display:inline-block;margin-right:12px;cursor:pointer;border:2px solid #ccc;transition:.25s}.color-circle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.color-circle.active[_ngcontent-%COMP%]{border:3px solid #111;transform:scale(1.2)}.shopweb-product-detail-desc[_ngcontent-%COMP%]{margin-top:35px;line-height:1.6;font-size:15px}.qty-box[_ngcontent-%COMP%]{margin-top:25px;display:flex;align-items:center;gap:12px}.qty-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:38px;height:38px;background:#f0f0f0;border:none;font-size:20px;border-radius:10px;cursor:pointer;transition:.25s}.qty-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ddd}.qty-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:600;width:25px;text-align:center}.btn-add-to-cart[_ngcontent-%COMP%]{width:100%;margin-top:25px;background:#111;color:#fff;border:none;padding:14px;border-radius:10px;font-size:18px;font-weight:600;cursor:pointer;transition:background .25s}.btn-add-to-cart[_ngcontent-%COMP%]:hover{background:#333}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#999;border-radius:20px}"]})};var ce=["*"],ae=(()=>{class i{config;afterChange=v();beforeChange=v();breakpoint=v();destroy=v();init=v();$instance;currentIndex=0;slides=[];initialized=!1;_removedSlides=[];_addedSlides=[];el=p(S);zone=p(E);isServer=y(p(w));ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!this.isServer&&(this._addedSlides.length>0||this._removedSlides.length>0)){let t=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?t===0?this.unslick():(this._addedSlides.forEach(e=>{this.slides.push(e),this.$instance.slick("slickAdd",e.el.nativeElement)}),this._addedSlides=[],this._removedSlides.forEach(e=>{let o=this.slides.indexOf(e);this.slides=this.slides.filter(l=>l!==e),this.$instance.slick("slickRemove",o)}),this._removedSlides=[]):t>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(t,e)=>{this.zone.run(()=>{this.init.emit({event:t,slick:e})})}),this.$instance.slick(this.config),this.zone.run(()=>{this.initialized=!0,this.currentIndex=this.config?.initialSlide||0}),this.$instance.on("afterChange",(t,e,o)=>{this.zone.run(()=>{this.afterChange.emit({event:t,slick:e,currentSlide:o,first:o===0,last:e.$slides.length===o+e.options.slidesToScroll}),this.currentIndex=o})}),this.$instance.on("beforeChange",(t,e,o,l)=>{this.zone.run(()=>{this.beforeChange.emit({event:t,slick:e,currentSlide:o,nextSlide:l}),this.currentIndex=l})}),this.$instance.on("breakpoint",(t,e,o)=>{this.zone.run(()=>{this.breakpoint.emit({event:t,slick:e,breakpoint:o})})}),this.$instance.on("destroy",(t,e)=>{this.zone.run(()=>{this.destroy.emit({event:t,slick:e}),this.initialized=!1})})}addSlide(t){this._addedSlides.push(t)}removeSlide(t){this._removedSlides.push(t)}slickGoTo(t){this.$instance.slick("slickGoTo",t)}slickNext(){this.$instance.slick("slickNext")}slickPrev(){this.$instance.slick("slickPrev")}slickPause(){this.$instance.slick("slickPause")}slickPlay(){this.$instance.slick("slickPlay")}unslick(){this.$instance&&(this.$instance.slick("unslick"),this.$instance=void 0),this.initialized=!1}ngOnChanges(t){if(this.initialized){let e=t.config;if(e.previousValue!==e.currentValue&&e.currentValue!==void 0){let o=e.currentValue.refresh,l=Object.assign({},e.currentValue);delete l.refresh,this.$instance.slick("slickSetOption",l,o)}}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],standalone:!1,features:[Q([{provide:B,useExisting:O(()=>i),multi:!0}]),M],ngContentSelectors:ce,decls:1,vars:0,template:function(e,o){e&1&&(L(),F(0))},encapsulation:2})}return i})(),Pe=(()=>{class i{carousel=p(ae,{host:!0});renderer=p(T);el=p(S);isServer=y(p(w));ngOnInit(){this.carousel.addSlide(this),this.isServer&&this.carousel.slides.length>0&&this.renderer.setStyle(this.el,"display","none")}ngOnDestroy(){this.carousel.removeSlide(this)}static \u0275fac=function(e){return new(e||i)};static \u0275dir=$({type:i,selectors:[["","ngxSlickItem",""]],standalone:!1})}return i})(),ye=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=V({type:i});static \u0275inj=z({imports:[H]})}return i})();export{ae as a,Pe as b,ye as c,X as d};
